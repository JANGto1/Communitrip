[{"/Users/mj/Downloads/Communitrip/client/src/pages/Board.js":"1"},{"size":4515,"mtime":1655468443511,"results":"2","hashOfConfig":"3"},{"filePath":"4","messages":"5","suppressedMessages":"6","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"7"},"o3pyft","/Users/mj/Downloads/Communitrip/client/src/pages/Board.js",["8","9","10","11"],[],"import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, useNavigate } from \"react-router\";\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport Boardpostform from './Boardpostform';\nimport Select from 'react-select'\nimport { dummyPost } from '../dummy.js';\n\n\nexport const Allpage = styled.div`\nwidth : 99vw;\nheight : 90vh;\nmargin: 0 auto;\n`\nexport const Options = styled.div`\nwidth : 99vw;\nheight : 7vh;\nbackground-color : green;\n`\n\nexport const ViewBoard = styled.div`\nwidth : 99vw;\nheight : 90vh;\noverflow : auto;\nbackground-color : skyblue;\n`\nexport const Vboard = styled.div`\ndisplay: table;\nmargin: 0 auto;\nwidth: 99%;\nheight: calc(100vh - 4rem);\n`\nexport const Vboards = styled.div`\nbackground-color: #bc9eff0e;\npadding: 5rem;\nwidth: 99%;\nmin-height: 90vh;\nheight: 90%;\n`\nexport const Postbutton = styled.button`\nfloat: right;\n`\nexport const Boardbutton = styled.button`\nmargin-right : 25px;\n`\n\nconst OPTIONS = [\n    { id: 1, value: \"tags\", name: \"태그 선택\" },\n    { id: 2, value: \"mountain\", name: \"산\", post_id: \"1\" },\n    { id: 3, value: \"river\", name: \"강\", post_id: \"2\" },\n    { id: 4, value: \"sea\", name: \"바다\", post_id: \"3\" },\n    { id: 5, value: \"valley\", name: \"계곡\", post_id: \"4\" },\n];\n\n\nconst SelectBox = (props) => {\n    const [tags, setTags] = useState('')\n\n    const handleTags = (e) => {\n        if (e.target.value === \"태그 선택\") {\n            props.setPostsByTags('')\n        } else {\n            axios.get(`http://localhost:8080/tags/${e.target.value}`).then((result) => {\n                props.setPostsByTags(result)\n            })\n            setTags(e.target.value)\n        }\n    }\n    return (\n        <select onChange={handleTags} value={tags}>\n            {props.options.map((option) => (\n                <option\n                    key={option.value}\n                    value={option.post_id}\n                    defaultValue={props.defaultValue === option.value}\n                >\n                    {option.name}\n                </option>\n            ))}\n        </select>\n    );\n};\n\n\n\nexport default function Board(props) {\n    // console.log(props.postsinfo)\n    const navigate = useNavigate();\n    const [tests, settests] = useState()\n    props.onepostinfo(tests)\n    console.log(props.postsByTags.data)\n    const [postsinfo, setPostsinfo] = useState()\n\n    const isPosts = () => {\n        axios.get('http://localhost:8080/posts').then((res) => {\n            const test = res.data.data\n            setPostsinfo(test)\n        }).catch(error => {\n            console.log(error)\n        })\n    }\n    useEffect(() => {\n        isPosts();\n    }, []);\n\n    const handlemovepost = (e) => {\n        navigate('/post', { state: { post: e } })\n    }\n\n    props.onepostinfo(tests)\n    return (\n        <Allpage>\n            <Options>\n                <SelectBox options={OPTIONS} postsByTags={props.postsByTags} setPostsByTags={props.setPostsByTags} defaultValue=\"태그 선택\" />\n                게시글 나열 방식  <Postbutton onClick={() => { navigate('/create_post'); }}>글쓰기</Postbutton>\n            </Options>\n            <ViewBoard>\n                <Vboard>\n                    <Vboards>\n                        {props.postsByTags === '' ?\n                            postsinfo && postsinfo.map(posts => {\n                                return (\n                                    <Boardbutton onClick={() => { settests(posts); handlemovepost(posts) }} >\n                                        <Boardpostform\n                                            posts={posts}\n                                            key={posts.id}\n                                        />\n                                    </Boardbutton>\n                                )\n                            }) :\n                            props.postsByTags.data.results.map((posts) => {\n                                return (\n                                    <Boardbutton onClick={() => { settests(posts); handlemovepost(posts) }} >\n                                        <Boardpostform\n                                            posts={posts}\n                                            key={posts.id}\n                                        />\n                                    </Boardbutton>\n                                )\n                            }\n                            )\n                        }\n                    </Vboards>\n                </Vboard>\n            </ViewBoard>\n        </Allpage>\n\n\n    )\n}",{"ruleId":"12","severity":1,"message":"13","line":2,"column":10,"nodeType":"14","messageId":"15","endLine":2,"endColumn":16},{"ruleId":"12","severity":1,"message":"16","line":2,"column":18,"nodeType":"14","messageId":"15","endLine":2,"endColumn":23},{"ruleId":"12","severity":1,"message":"17","line":6,"column":8,"nodeType":"14","messageId":"15","endLine":6,"endColumn":14},{"ruleId":"12","severity":1,"message":"18","line":7,"column":10,"nodeType":"14","messageId":"15","endLine":7,"endColumn":19},"no-unused-vars","'Routes' is defined but never used.","Identifier","unusedVar","'Route' is defined but never used.","'Select' is defined but never used.","'dummyPost' is defined but never used."]